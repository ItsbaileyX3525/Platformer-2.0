[gd_scene load_steps=12 format=3 uid="uid://d2bxknqwankoc"]

[ext_resource type="Texture2D" uid="uid://cshf2fo6eg1mk" path="res://assets/blocks/grass_dirt.png" id="1_t5px7"]
[ext_resource type="PackedScene" uid="uid://bmxa5jr8r3jma" path="res://scenes/double_jump.tscn" id="2_r68c1"]
[ext_resource type="PackedScene" uid="uid://r48oqkn6cdpd" path="res://scenes/speed_boost.tscn" id="3_sci1r"]
[ext_resource type="PackedScene" uid="uid://buv6650ugxxq5" path="res://scenes/finish_flag.tscn" id="4_wfdia"]

[sub_resource type="GDScript" id="GDScript_maqgp"]
script/source = "extends Node2D

signal nextLevel(level)

@onready var flagTrick = $FinishFlag/AnimationPlayer
@onready var trickText = $RichTextLabel3

func nextScene() -> void:
	nextLevel.emit(4)


func _on_trigger_2_body_entered(body: Node2D) -> void:
	if body.name == \"Player\":
		flagTrick.play(\"haha_ticked_you\")
		trickText.text = \";P\"
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gvgkc"]
size = Vector2(175.699, 24.4259)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ht7jr"]
size = Vector2(67.5664, 24.1574)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lidwy"]
size = Vector2(11, 254)

[sub_resource type="GDScript" id="GDScript_br0ni"]
script/source = "extends RichTextLabel

var tween: Tween
var enteredOnce = false

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass


func _on_trigger_body_entered(body: Node2D) -> void:
	if body.name == \"Player\" and not enteredOnce:
		visible=true
		enteredOnce=true
		text=\"Well done, You made it here successfully!\"
		tween = create_tween()
		tween.tween_property(self, \"visible_ratio\", 1.0, 1.6).from(0.0)
"

[sub_resource type="Animation" id="Animation_vsxe0"]
resource_name = "haha_ticked_you"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(1419.69, 575.483), Vector2(2354.47, 575.483)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_y8tp7"]
_data = {
"haha_ticked_you": SubResource("Animation_vsxe0")
}

[node name="Level3" type="Node2D"]
scale = Vector2(1.656, 1.656)
script = SubResource("GDScript_maqgp")

[node name="Floor1" type="StaticBody2D" parent="."]
position = Vector2(199.879, 623.623)
scale = Vector2(4.62954, 2.29973)

[node name="Sprite2D" type="Sprite2D" parent="Floor1"]
texture_repeat = 2
position = Vector2(-42.4024, -12.0816)
scale = Vector2(0.351344, 0.815)
texture = ExtResource("1_t5px7")
centered = false
region_enabled = true
region_rect = Rect2(0.085022, 0, 500.457, 30)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor1"]
position = Vector2(45.3416, 0.131317)
shape = SubResource("RectangleShape2D_gvgkc")

[node name="DoubleJump" parent="." instance=ExtResource("2_r68c1")]
position = Vector2(387.879, 548.623)
regenTimer = 3

[node name="SpeedBoost" parent="." instance=ExtResource("3_sci1r")]
position = Vector2(616.879, 548.623)
regenTimer = 3

[node name="RichTextLabel" type="RichTextLabel" parent="."]
offset_left = 239.879
offset_top = 378.623
offset_right = 4899.88
offset_bottom = 2518.62
scale = Vector2(0.05, 0.05)
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_font_sizes/normal_font_size = 400
text = "This is a jump boost, it allows you to jump twice!"

[node name="RichTextLabel2" type="RichTextLabel" parent="."]
offset_left = 507.879
offset_top = 378.623
offset_right = 5167.88
offset_bottom = 2518.62
scale = Vector2(0.05, 0.05)
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_font_sizes/normal_font_size = 400
text = "This is a speed boost, it makes you go faster!"

[node name="Floor2" type="StaticBody2D" parent="."]
position = Vector2(1343, 625)
scale = Vector2(4.62954, 2.29973)

[node name="Sprite2D" type="Sprite2D" parent="Floor2"]
texture_repeat = 2
position = Vector2(-42.4024, -12.0816)
scale = Vector2(0.351344, 0.815)
texture = ExtResource("1_t5px7")
centered = false
region_enabled = true
region_rect = Rect2(0.085022, 0, 192.186, 30)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor2"]
position = Vector2(-8.60892, 0.262634)
shape = SubResource("RectangleShape2D_ht7jr")

[node name="Trigger" type="Area2D" parent="."]
position = Vector2(1164.85, 409.42)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Trigger"]
position = Vector2(-1.5, 60)
shape = SubResource("RectangleShape2D_lidwy")

[node name="RichTextLabel3" type="RichTextLabel" parent="."]
visible = false
offset_left = 1188.41
offset_top = 395.531
offset_right = 5848.41
offset_bottom = 2535.53
scale = Vector2(0.05, 0.05)
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_font_sizes/normal_font_size = 400
text = "meee and my monkeyyyy"
script = SubResource("GDScript_br0ni")

[node name="FinishFlag" parent="." instance=ExtResource("4_wfdia")]
position = Vector2(1419.69, 575.483)

[node name="AnimationPlayer" type="AnimationPlayer" parent="FinishFlag"]
libraries = {
"": SubResource("AnimationLibrary_y8tp7")
}

[node name="Trigger2" type="Area2D" parent="."]
position = Vector2(1164.85, 409.42)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Trigger2"]
position = Vector2(177.541, 62.1983)
shape = SubResource("RectangleShape2D_lidwy")

[node name="RichTextLabel4" type="RichTextLabel" parent="."]
offset_left = 767.512
offset_top = 682.971
offset_right = 5427.51
offset_bottom = 2822.97
scale = Vector2(0.05, 0.05)
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_font_sizes/normal_font_size = 400
text = "3"

[connection signal="body_entered" from="Trigger" to="RichTextLabel3" method="_on_trigger_body_entered"]
[connection signal="body_entered" from="Trigger2" to="." method="_on_trigger_2_body_entered"]
